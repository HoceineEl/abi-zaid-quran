<?php

use App\Models\GroupMessageTemplate;
use Illuminate\Database\Migrations\Migration;
use Illuminate\Support\Facades\DB;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        // Define the message templates to be seeded
        $templates = [
            [
                'name' => 'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„ÙˆØ§Ø¬Ø¨ - Ù…Ø¹ ØªØ´Ø¬ÙŠØ¹',
                'content' => <<<'MSG'
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
*Ø£Ø®ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨ {student_name}*ØŒ
Ù†Ø°ÙƒØ±Ùƒ Ø¨Ø§Ù„ÙˆØ§Ø¬Ø¨ Ø§Ù„Ù…Ù‚Ø±Ø± Ø§Ù„ÙŠÙˆÙ…ØŒ Ù„Ø¹Ù„ Ø§Ù„Ù…Ø§Ù†Ø¹ Ø®ÙŠØ±.
Ù†Ø­Ù† Ù†Ù‚Ø¯Ø± Ø¬Ù‡ÙˆØ¯Ùƒ ÙˆÙ…Ø«Ø§Ø¨Ø±ØªÙƒØŒ ÙˆØ§ØµÙ„ Ø§Ù„ØªÙ…ÙŠØ²! ðŸŒŸ
MSG
            ],
            [
                'name' => 'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„ÙˆØ§Ø¬Ø¨ - Ù…Ø¹ Ù†ØµÙŠØ­Ø©',
                'content' => <<<'MSG'
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
*Ø£Ø®ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨ {student_name}*ØŒ
Ù„Ù… Ù†ØªÙ„Ù‚ ÙˆØ§Ø¬Ø¨Ùƒ Ø§Ù„ÙŠÙˆÙ…ØŒ Ù„Ø¹Ù„ Ø§Ù„Ù…Ø§Ù†Ø¹ Ø®ÙŠØ±.
ØªØ°ÙƒØ± Ø£Ù† Ø§Ù„Ø§Ù†ØªØ¸Ø§Ù… ÙÙŠ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ù‡Ùˆ Ø³Ø± Ø§Ù„Ù†Ø¬Ø§Ø­ ÙˆØ§Ù„ØªÙÙˆÙ‚. ðŸ“š
MSG
            ],
            [
                'name' => 'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„ÙˆØ§Ø¬Ø¨ - Ù…Ø¹ Ø¯Ø¹Ø§Ø¡',
                'content' => <<<'MSG'
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
*Ø£Ø®ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨ {student_name}*ØŒ
Ù†Ø°ÙƒØ±Ùƒ Ø¨Ø§Ù„ÙˆØ§Ø¬Ø¨ Ø§Ù„Ù…Ù‚Ø±Ø± Ø§Ù„ÙŠÙˆÙ…ØŒ Ù„Ø¹Ù„ Ø§Ù„Ù…Ø§Ù†Ø¹ Ø®ÙŠØ±.
Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠ ÙˆÙ‚ØªÙƒ ÙˆØ¬Ù‡Ø¯Ùƒ ÙˆØ²Ø§Ø¯Ùƒ Ø¹Ù„Ù…Ø§Ù‹ ÙˆÙ†ÙØ¹Ø§Ù‹. ðŸ¤²
MSG
            ],
            [
                'name' => 'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ø­Ø¶ÙˆØ± - Ù…Ø¬Ù…ÙˆØ¹Ø© Ø­Ø¶ÙˆØ±ÙŠØ©',
                'content' => <<<'MSG'
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
*Ø£Ø®ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨ {student_name}*ØŒ
Ù†ÙˆØ¯ ØªØ°ÙƒÙŠØ±Ùƒ Ø¨Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø­ØµØ© Ø§Ù„Ø­Ø¶ÙˆØ±ÙŠØ© ØºØ¯Ø§Ù‹ ÙÙŠ ØªÙ…Ø§Ù… Ø§Ù„Ø³Ø§Ø¹Ø© 4:00 Ù…Ø³Ø§Ø¡Ù‹.
Ù†ØªØ·Ù„Ø¹ Ù„Ø­Ø¶ÙˆØ±Ùƒ ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙƒ Ø§Ù„ÙØ¹Ø§Ù„Ø©. ðŸ•Œ
MSG
            ],
            [
                'name' => 'ØªÙ‡Ù†Ø¦Ø© Ø¨Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø­ÙØ¸',
                'content' => <<<'MSG'
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
*Ø£Ø®ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨ {student_name}*ØŒ
Ù†Ù‡Ù†Ø¦Ùƒ Ø¨Ø¥ØªÙ…Ø§Ù… Ø­ÙØ¸ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ù‚Ø±Ø±! ðŸŽ‰
Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠ Ø¬Ù‡ÙˆØ¯Ùƒ ÙˆØ¬Ø¹Ù„ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø´ÙÙŠØ¹Ø§Ù‹ Ù„Ùƒ ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø©.
ÙˆØ§ØµÙ„ Ø§Ù„ØªÙ…ÙŠØ² ÙˆØ§Ù„Ø¥Ø¨Ø¯Ø§Ø¹! ðŸ’«
MSG
            ],
            [
                'name' => 'ØªØ´Ø¬ÙŠØ¹ Ø¨Ø¹Ø¯ ÙØªØ±Ø© Ø§Ù†Ù‚Ø·Ø§Ø¹',
                'content' => <<<'MSG'
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
*Ø£Ø®ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨ {student_name}*ØŒ
Ø³Ø±Ø±Ù†Ø§ Ø¨Ø¹ÙˆØ¯ØªÙƒ Ù„Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© {group_name} Ø¨Ø¹Ø¯ ÙØªØ±Ø© Ø§Ù„Ø§Ù†Ù‚Ø·Ø§Ø¹.
Ø¢Ø®Ø± Ø­Ø¶ÙˆØ± Ù„Ùƒ ÙƒØ§Ù† Ø¨ØªØ§Ø±ÙŠØ®: {last_presence}
ØªØ°ÙƒØ± Ø£Ù† Ø§Ù„Ø§Ø³ØªÙ…Ø±Ø§Ø±ÙŠØ© Ù‡ÙŠ Ù…ÙØªØ§Ø­ Ø§Ù„Ù†Ø¬Ø§Ø­ ÙÙŠ Ø­ÙØ¸ ÙƒØªØ§Ø¨ Ø§Ù„Ù„Ù‡.
Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ø¯Ø¹Ù…Ùƒ ÙˆÙ…Ø³Ø§Ø¹Ø¯ØªÙƒ! ðŸŒŸ
MSG
            ],
            [
                'name' => 'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©',
                'content' => <<<'MSG'
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
*Ø£Ø®ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨ {student_name}*ØŒ
Ù†Ø°ÙƒØ±Ùƒ Ø¨ÙˆØ§Ø¬Ø¨ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙŠÙˆÙ… {curr_date}.
Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù…Ù†ØªØ¸Ù…Ø© Ù‡ÙŠ Ø£Ø³Ø§Ø³ Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ù…ØªÙŠÙ†.
_Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ ÙˆØ²Ø§Ø¯Ùƒ Ø­Ø±ØµØ§_ ðŸŒŸ
MSG
            ],
            [
                'name' => 'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„ØªØ«Ø¨ÙŠØª',
                'content' => <<<'MSG'
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
*Ø£Ø®ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨ {student_name}*ØŒ
Ù„Ø§ ØªÙ†Ø³ ÙˆØ§Ø¬Ø¨ Ø§Ù„ØªØ«Ø¨ÙŠØª Ø§Ù„ÙŠÙˆÙ….
Ø§Ù„ØªØ«Ø¨ÙŠØª ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ ØªØ±Ø³ÙŠØ® Ø§Ù„Ø­ÙØ¸ ÙˆØªÙ‚ÙˆÙŠØªÙ‡.
_Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ ÙˆØ²Ø§Ø¯Ùƒ Ø­Ø±ØµØ§_ ðŸŒŸ
MSG
            ],
            [
                'name' => 'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ø§Ø¹ØªØµØ§Ù…',
                'content' => <<<'MSG'
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
*Ø£Ø®ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨ {student_name}*ØŒ
Ù†Ø°ÙƒØ±Ùƒ Ø¨ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø§Ø¹ØªØµØ§Ù… Ø§Ù„ÙŠÙˆÙ….
Ø§Ù„Ø§Ø¹ØªØµØ§Ù… Ø¨ÙƒØªØ§Ø¨ Ø§Ù„Ù„Ù‡ Ù‡Ùˆ Ø§Ù„Ù†Ø¬Ø§Ø© ÙˆØ§Ù„ÙÙ„Ø§Ø­.
_Ø¨Ø§Ø±Ùƒ Ø§Ù„Ù„Ù‡ ÙÙŠÙƒ ÙˆØ²Ø§Ø¯Ùƒ Ø­Ø±ØµØ§_ ðŸŒŸ
MSG
            ],
            [
                'name' => 'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ø³Ø±Ø¯',
                'content' => <<<'MSG'
Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡
*Ø£Ø®ÙŠ Ø§Ù„Ø·Ø§Ù„Ø¨ {student_name}*ØŒ
Ù†Ø°ÙƒØ±Ùƒ Ø¨ÙˆØ§Ø¬Ø¨ Ø§Ù„Ø³Ø±Ø¯ Ø§Ù„ÙŠÙˆÙ… âœ¨
Ø§Ù„Ù…Ø±Ø¬Ùˆ Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø© Ù‚Ø¨Ù„ ØºÙ„Ù‚ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
Ø§Ù„Ø³Ø±Ø¯ Ø§Ù„Ù…Ù†ØªØ¸Ù… ÙŠØ³Ø§Ø¹Ø¯ Ø¹Ù„Ù‰ ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ø­ÙØ¸ ÙˆØªØ«Ø¨ÙŠØªÙ‡.
_Ø²Ø§Ø¯Ùƒ Ø§Ù„Ù„Ù‡ Ø­Ø±ØµØ§_ ðŸŒ™
MSG
            ],
        ];
        foreach ($templates as $template) {
            GroupMessageTemplate::insert([
                'name' => $template['name'],
                'content' => $template['content'],
                'created_at' => now(),
                'updated_at' => now(),
            ]);
        }
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        // Define the template names to be removed
        $templateNames = [
            'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„ÙˆØ§Ø¬Ø¨ - Ù…Ø¹ ØªØ´Ø¬ÙŠØ¹',
            'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„ÙˆØ§Ø¬Ø¨ - Ù…Ø¹ Ù†ØµÙŠØ­Ø©',
            'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„ÙˆØ§Ø¬Ø¨ - Ù…Ø¹ Ø¯Ø¹Ø§Ø¡',
            'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ø­Ø¶ÙˆØ± - Ù…Ø¬Ù…ÙˆØ¹Ø© Ø­Ø¶ÙˆØ±ÙŠØ©',
            'ØªÙ‡Ù†Ø¦Ø© Ø¨Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø­ÙØ¸',
            'ØªØ´Ø¬ÙŠØ¹ Ø¨Ø¹Ø¯ ÙØªØ±Ø© Ø§Ù†Ù‚Ø·Ø§Ø¹',
            'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©',
            'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„ØªØ«Ø¨ÙŠØª',
            'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ø§Ø¹ØªØµØ§Ù…',
            'ØªØ°ÙƒÙŠØ± Ø¨Ø§Ù„Ø³Ø±Ø¯',
        ];

        // Get the IDs of the templates to be removed
        $templateIds = DB::table('group_message_templates')
            ->whereIn('name', $templateNames)
            ->pluck('id');

        // Remove the associations from the pivot table
        DB::table('group_message_template_pivot')
            ->whereIn('group_message_template_id', $templateIds)
            ->delete();

        // Remove the templates
        DB::table('group_message_templates')
            ->whereIn('name', $templateNames)
            ->delete();
    }
};
